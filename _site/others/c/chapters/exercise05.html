<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>笨方法学习C语言（中文版）</title>
   <meta name="author" content="小福的博客" />
 
   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

   <script type="text/javascript" src="/js/name.js"></script>

</head>
<body>



<div class="site">
  <div class="title">
    <a href="/">小福</a>
    <a class="extra" href="/">首页</a>
    
    <a class="extra" href="/others/mywebsites.html">Love websites</a>
     <a class="extra" href="http://www.douban.com/people/xiaofuzhi/doulists/all">我的豆列</a>
  </div>
 
  <div id="post">
<h1 id="c">练习5：一个C程序的结构</h1>
<p>你已经知道如何使用 printf函数和几个基本的工具了，现在让我们来一行一行的看一个简单的C程序，看它的结构是怎样的。在这个程序中，你会遇到一些你并不熟悉的内容，我之后会为你讲解，在后面的练习中也会使用这些概念。</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#include&lt;stdio.h&gt;   </span>
     <span class="sr">/*This is a comment*/</span>
     <span class="n">int</span> <span class="n">main</span><span class="p">(</span><span class="n">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">argv</span><span class="o">[]</span><span class="p">)</span>
     <span class="p">{</span>
     	<span class="n">int</span> <span class="n">distance</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
     	<span class="sr">//</span><span class="n">this</span> <span class="n">sis</span> <span class="n">also</span> <span class="n">a</span> <span class="n">comment</span>
     	<span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;You are %d miles away.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">distance</span><span class="p">);</span>
     	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
     <span class="p">}</span></code></pre></div>

<p>编写上述代码然后运行它。在运行过程中记得使用Valgrind并保证没有给出错误信息。每次运行程序时都检查是否有错误信息是一个很好的习惯。</p>

<h1 id="section">你将会看到什么？</h1>
<p>下面的输出虽然没做什么，但对于本练习代码的分析很有用：</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>make ex5
cc -Wall -g ex5.c
<span class="nv">$ </span>./ex5
You are <span class="m">100</span> miles away.
<span class="err">$</span></code></pre></div>

<h1 id="section-1">分解该程序</h1>
<p>你在编写上述程序的时候可能只能够理解其中的一小部分。为了你能够更好的理解没一部分，我会一行一行代码的为你讲解。</p>

<h4 id="ex5c-1">ex5.c: 1</h4>
<p>在Ｃ中用　.h　表示该文件为头文件，通过　#include 可以将该头文件中包含的函数引入到你的程序中（将头文件的内容导入到使用#include的源文件中）。
####ex5.c: 3
这是一个可以跨行的注释，/* */包含起来的部分为注释。
####ex5.c: 4
一个比之前使用的稍微复杂的main函数，这是Ｃ程序的入口，操作系统加载你的程序到内存中后会找到该函数然后运行它。该函数包含两个参数和返回一个　int　型的值，两个参数分别表示参数的个数和一个字符指针。现在可以先不用去关注它，很快我就会为你讲解。
####ex5.c: 5
在开始编写一个函数的主体之前，你需要使用“｛　”，在ｃ语言中，函数体是由｛函数体｝包起来的，在Ｐython中你使用：来开始一个函数的编写，其它函数可能会使用“begin”或者是 “do”作为函数的开始。</p>

<h4 id="ex5c-">ex5.c: ６</h4>
<p>声明并赋值给一个变量，在Ｃ语言中变量的创建语法是：数据类型　　变量名＝　值；。除了条件语句外，在Ｃ中所有的语句都以“；”作为结尾。</p>

<h4 id="ex5c--1">ex5.c: ８</h4>
<p>另外一种注释，也称单行注释，使用“//”作为开头。</p>

<h4 id="ex5c--2">ex5.c: ９</h4>
<p>调用printf函数，在Ｃ中调用函数的语法是 name(arg1, arg2); 的形式，可以没有参数或者是多个参数，再之后我们会看到printf的参数是怎样的。</p>

<h4 id="ex5c-11">ex5.c: 11</h4>
<p>ｍain函数返回一个值给操作系统，你也许并不熟悉Ｕnix是如何使用返回值的，之后我也会讲到。</p>

<h4 id="ex5c-12">ex5.c: 12</h4>
<p>最后函数用“　｝”来结束，和函数的开头是按对使用的。</p>

<p>本次练习涉及的内容有点多，所以我一行一行的为你讲解，我不希望你能够完全的理解，但是你至少要知道上述程序做了什么。</p>

<h1 id="section-2">课外练习</h1>

<ul>
  <li>将程序每一行中你不理解的字符使用一个表记录下来，并写上你猜测的信息，然后与我之后给出的解释比较看你的理解是否正确。
*　将之前做的练习的代码做些分解破坏然后运行，看你是否明白发生了什么，对无法理解的写下来。</li>
</ul>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
  </ul>
</div>
  
  <div class="footer">
    <div class="contact">
      <p>
        xiaofuzi
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="http://github.com/xiaofuzi/">github.com/xiaofuzi</a><br />
      </p>
    </div>
  </div>
</div>

<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253593759'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1253593759' type='text/javascript'%3E%3C/script%3E"));</script>
</body>
</html>
