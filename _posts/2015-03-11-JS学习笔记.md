---
layout: post
title: JS,jQuery,AngularJS　study
category: reading
---

# Javascript的实现
* 核心(ECMAScript)
* 文档对象模型(DOM)
* 浏览器对象模型(BOM)

###ECMAScript定义语言的基础部分
* 语法
* 类型
* 语句
* 关键字
* 保留字
* 操作符
* 对象

ECMAScript就是实现该标准规定的各个方面内容的语言的描述。Javascript，Adobe ActionScript是不同的实现。

Javascript语法
* 区分大小写
* 语句推荐使用分号做结尾（不强制要求）
* 使用var声明的变量是定义该变量作用域中的局部变量
* 严格模式对函数的限制：不能把函数命名为eval或arguments，不能出现两个命名参数同名
* 函数参数，ECMAScript中的参数在内部是用一个数组来表示的，函数接收到的始终都是这个数组，二不关心数组中有哪些参数以及几个。所以说在调用时传入的参数可以与定义时的参数不同。这也导致了函数是不能够重载的，如果定义同名函数，后定义的会覆盖前面所定义的函数。
* ECMAScript变量可能会包含两种不同数据类型的值：基本类型值和引用类型值。基本类型值指的是简单的数据段，而引用类型值指那些可能由多个值构成的对象。只能给引用类型值动态地添加属性。
* ECMAScript函数是按值传递的，但是传递引用类型时，也会按引用的方式类访问。
注意以下两个函数的区别：

1.
function setName(obj){
    obj.name = "Nicholas";
}
var person = new object();
setName(person);
alert(person.name);   //"Nicholas"

2.
function setName(obj){
    obj.name = "Nicholas";
    obj = new Object();
    obj.name = "Grel"
}
var person = new object();
setName(person);
alert(person.name);   //"Nicholas"在函数内部新建的变量只是一个局部变量，会随着函数作用域的结束而消失。

##执行环境
执行环境定义了变量或函数有权访问的其他数据，决定了他们各自的行为。每个执行环境都有一个与之关联的变量对象，环境中定义的所有变量和函数都保存在这个对象中。全局执行环境是最外围的执行环境，在web浏览器中，全局执行环境被认为是window对象，因此所有全局变量和函数都是作为window对象的属性和方法创建的。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁。

没有块级作用域，及花括号并不能分割作用域。

##引用类型
在ECMAScript中，引用类型是一种数据结构，用于将数据和功能组织在一起。这有点像类但却不能称之为类，它不具备传统面向对象语言所支持的类和接口等基本结构。引用类型有时也被称为对象定义，因为他们描述的是一类对象所具有的属性和方法。

object对象的创建方式：

1.var person = new object();
2.var person ={
    name:"Nicholas",
    age:29
 }

第二种方式比较方便创建属性比较多的对象。

##Function类型
函数实际上是Function类型的实例，而且与其他引用类型一样具有属性和方法。

Function构造函数（不推荐做法）：

var sum = new Function("num1", "num2", "return num1+num2");

#javascript面向对象程序设计
创建对象：

 * 工厂模式：用函数类封装以特定接口创建对象的细节，类似于类。
 * 构造函数模式：创建自定义的构造函数，从而定义自定义对象的属性和方法。
 * 原型模式
 * 组合使用构造函数和原型模式
 * 动态原型模式
 * 寄生构造函数模式
 * 稳妥构造函数模式






# Jquery(write less,do more)

Jquery是一个轻量级的库，拥有强大的选择器、出色的DOM操作、可靠的事件处理、完善的兼容性和链式操作等功能。

Jquery的优势：

* 轻量级。
* 强大的选择器。
* 出色的DOM操作的封装。
* 可靠的事件处理机制。
* 完善的Ajax。
* 不污染顶级变量。
* 出色的浏览器兼容性。
* 链式操作方式。
* 隐式迭代。
* 行为层与结构层的分离。
* 丰富的插件支持，完善的文档，开源。

注：$是jQuery的简写。

##jQuery对象、DOM对象
###DOM对象
DOM(Document Object Model,文档对象模型)对象，每一份DOM都可以表示成一颗树。对于一份HTML源码中，每一个节点都是DOM元素节点，可以通过get
ElementByTagName或者getElementById来获取得到。如下：

var domObj = document.getElementById("id") //获得DOM对象
###jQuery对象
jQuery对象就是通过jQuery包装DOM对象后产生的对象。，jQuery对象是jQuery独有的，如果一个对象是jQuery对象，那么就可以使用jQuery里的方法。

例如：(下面两段代码是等同的）

$("#foo").html();

document.getElementById("foo").innerHTML;



#jQuery插件的使用和写法
首先要明白编写插件的目的是给已有的一系列方法或函数做一个封装，以便在其他地方重复使用，以提高开发效率。

jQuery插件的种类
*   封装对象方法的插件
*   封装全局函数的插件
*   选择器插件


插件的基本要点：
* jQuery插件的文件名推荐命名为jquery.[插件名].js,以免和其他Javascript库插件混淆。
* 所有的对象方法都应当附加到jQuery.fn对象上，而所有的全局函数都应当附加到jQuery对象本身上。
* 在插件的内部，this指向的是当前通过选择器获取的jQuery对象，e不像一般方法那样，内部的this指向的是DOM元素。
* 可以通过this.each来遍历所元素。
* 所有的方法或函数插件，都应当以分号结尾，否则压缩的时候可能会出现问题。
* 插件应该返回一个jQuery对象，以保证插件的可链式操作。
* 避免在插件内部使用$作为jQuery对象的别名，而应使用完整的jQuery来表示。这样可以避免冲突。（可以使用闭包来回避这个问题）

常见的jQuery插件结构：

;(function($){                //$作为形参
    //此处编写jQuery插件代码
    })(jQuery);               //jQuery作为实参


扩展jQuery插件的两个方法：
* jQuery.fn.extend()
* jQuery.extend()

前者用于扩展前面提到的3中类型插件的第一种，后者用于扩展后两中插件。jQuery.extend()还可以扩展object对象。

##jQuery自定义选择器
jQuery的选择符解析器首先会使用一组正则表达式来解析选择器，然后针对解析出的每个选择符执行一个函数，称为选择器函数。最后根据这个选择器函数的返回值为true还是false来决定是否保留这个元素。



# Angular.js，动态网站构建
为了表示内部和内置的库函数，Angular使用$预定义对象，只要遇到$符号，你都可以只把他看作一个Angular对象。(注：这和jQuery是完全无关的）

数据模型对象(model object)是指$scope对象。$scope对象是一个简单的Javascript对象，，其中属性可以被视图访问，也可以同控制器交互Angular的数据绑定是双向绑定的。

 Angular中，模块是定义应用的最主要方式。模块包含了主要的应用代码。一个应用可以包含多个模块，每个模块都包含了定义具体功能的代码。

模块化的好处：
* 保持全局命名空间的清洁；
* 编写测试代码更容易，并能保持其清洁，以便更容易找到相互隔离的功能；
* 易于在不同应用间复用代码；
* 使应用能够以任意顺序加载代码；

Angular模块定义：
Angular使用angular.module()方法来声明模块，这个方法能够接受两个参数，第一个是模块的名称，第二个是依赖列表，也就是可以被注入到模块中的对象列表。

angular.module('myApp', []);

在调用这个方法时如果只传递一个参数，就可以用它来引用模块。

##作用域
作用域是构成Angular应用的核心基础，在整个框架中都被广泛使用，因此理解它是如何工作的是非常重要的。
应用的作用域是和应用的数据模型相关联的，同时作用域也是表达式执行的上下文。$scope对象是定义应用业务逻辑、控制器方法和视图属性的地方。

作用域包含了渲染视图时所需的功能和数据，他是所有视图的唯一源头。可以将作用域理解成视图模型。

指令在Angular中广泛使用，指令通常不会创建自己的$scope,但也有例外。比如ng-controller和ng-repeat指令会创建自己的子作用域并将它们附加到DOM元素上。

##控制器（视图和$scope之间的桥梁）
Angular中的控制器是一个函数，用来向视图的作用域中添加额外的功能。我们用它来给作用域对象设置初始状态并添加自定义行为。当我们在页面上创建一个新的控制器时，Angular会生成并传递一个新的$scope给这个控制器。可以在这个控制器里初始化$scope.我们只需编写构造函数即可，Angular会负责控制器的实例化。

比较好的控制器创建方式：
var app = angular.module('app',[]);
app.controller('FirstController',function($scope){
   $scope.message = "hello";
   });

Angular让我们可以在视图中像调用普通数据一样调用$scope函数。
